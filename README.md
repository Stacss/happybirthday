# Happybirthday

Приложение для поздравления Марии Адамовны Петровой-Березовской

## Установка

1. Клонируйте репозиторий:
```
git clone https://github.com/Stacss/happybirthday.git
```
2. Перейдите в каталог проекта:


```
cd happybirthday
```

3. Установите зависимости с использованием Composer:

```
composer install
```

4. Скопируйте файл .env.example в файл .env и настройте параметры вашей базы данных, а так же почты:

```
cp .env.example .env
```

5. Создайте ключ приложения:

```
php artisan key:generate
```

6. Выполните миграции базы данных:

```
php artisan migrate
```
7. Заполните таблицу городов:

```
php artisan db:seed --class=CitiesTableSeeder
```

8. Заполните таблицу клиентов:

```
php artisan db:seed --class=ClientsTableSeeder
```

## Использование
### ручная проверка
Для проверки, сегодня ли День рождения Марии Петровой-Березовской, выполните следующую команду:

```
php artisan birthday:check
```

Эта команда будет проверять, сегодня ли день рождения Марии Петровой-Березовской, и отправлять уведомление на email администратору, если условие выполняется.
Поменять почту можно в файле app/Console/Commands/CheckBirthdayCommand.php на строке 53.
### Автоматическая проверка

Для автоматической проверки вам необходимо настроить cron
У каждого хостинга свои методы настройки cron, однако наиболее универсальная команда, если отурыт доступ в cron из консоли ssh 

Откройте cron
```
crontab -e
```
далее выполнете команду, которая будет запускаться ежедневно в 10 утроа по МСК
```
0 7 * * * cd /{путь до проекта}/happybirthday && php artisan birthday:check
```

